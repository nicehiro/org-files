[[file:index.org][{back to main page}]]
#+TITLE: 原来你是这样的汇编

#+DATE: 2016-10-03 14:57:15

讲道理汇编也是很吊的......

我已经惊呆了......

#+BEGIN_HTML
  <!--more-->
#+END_HTML

上图，这是我用汇编搞的：

[[http://oeoaak94a.bkt.clouddn.com/hvbm4.png]]

接下来看看如何搞定它：

首先你需要了解：

-  DOS窗口所在的内存单元是0B00:xxxx，每行可以有80个字符（ASCII码），一共160个字节，一共可以有25行。所以一共有160
   * 25个字节可供修改。我们需要做的是：

-  从data segment 中找到需要的数据送到上诉字节中即可

每个可以在DOS下显示的字符都是有两个字节控制的，地位字节控制显示内容，高位字节控制显示颜色。颜色如何设定的呢？

#+BEGIN_QUOTE
  八个数字控制颜色，即：76543210 7：闪烁 6：R Background 5：G Background
  4：B Background 3：高亮 2：R Front 1：G Front 0：B Front
#+END_QUOTE

code

#+BEGIN_EXAMPLE
    assume cs:code,ds:data,ss:stack
    data segment
            ;0123456789ABCDEF
        db  'welcome to masm!'
        db  00000010b
        db  00100100b
        db  01110001b
    data ends
    stack segment
        db 128 dup(0)
    stack ends
    code segment
    start:      mov ax,stack
            mov ss,ax
            mov sp,128
            mov ax,data
            mov ds,ax
            mov ax,0b800h
            mov es,ax
            mov cx,3
            mov bx,16
            mov di,160*12 + 30*2
            jmp showMasm
    next:       mov ax,4c00h
            int 21h
    ;===================================================
    showMasm:   push cx
            push di
            mov si,0
            mov cx,16
            mov dh,ds:[bx]
    showString: mov dl,ds:[si]
            mov es:[di],dx
            inc si
            add di,2
            loop showString
            pop di
            pop cx
            add di,160
            inc bx
            loop showMasm
            jmp next
    code ends
    end start
#+END_EXAMPLE

明天端午，哦不，已经是今天了......FUCK！！！祝开心~






